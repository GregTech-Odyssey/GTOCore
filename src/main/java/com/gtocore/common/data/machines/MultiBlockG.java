package com.gtocore.common.data.machines;

import com.gtocore.api.machine.part.GTOPartAbility;
import com.gtocore.api.pattern.GTOPredicates;
import com.gtocore.client.renderer.machine.ArrayMachineRenderer;
import com.gtocore.client.renderer.machine.CustomPartRenderer;
import com.gtocore.common.data.*;
import com.gtocore.common.machine.multiblock.electric.*;
import com.gtocore.common.machine.multiblock.electric.adventure.BossSummonerMachine;
import com.gtocore.common.machine.multiblock.electric.processing.ProcessingArrayMachine;
import com.gtocore.common.machine.multiblock.electric.space.SatelliteControlCenterMachine;
import com.gtocore.common.machine.multiblock.electric.voidseries.VoidTransporterMachine;
import com.gtocore.common.machine.multiblock.noenergy.AlgaeFarmMachine;
import com.gtocore.common.machine.multiblock.noenergy.DroneControlCenterMachine;
import com.gtocore.common.machine.multiblock.noenergy.LargeCokeOvenMachine;
import com.gtocore.common.machine.multiblock.storage.MEStorageMachine;
import com.gtocore.common.machine.multiblock.storage.WirelessDimensionRepeaterMachine;
import com.gtocore.common.machine.multiblock.storage.WirelessEnergySubstationMachine;
import com.gtocore.data.lang.LangHandler;

import com.gtolib.GTOCore;
import com.gtolib.api.GTOValues;
import com.gtolib.api.annotation.NewDataAttributes;
import com.gtolib.api.annotation.component_builder.ComponentBuilder;
import com.gtolib.api.annotation.component_builder.StyleBuilder;
import com.gtolib.api.data.GTODimensions;
import com.gtolib.api.machine.multiblock.*;
import com.gtolib.api.recipe.modifier.RecipeModifierFunction;
import com.gtolib.utils.NumberUtils;
import com.gtolib.utils.RegistriesUtils;

import com.gregtechceu.gtceu.GTCEu;
import com.gregtechceu.gtceu.api.data.chemical.ChemicalHelper;
import com.gregtechceu.gtceu.api.data.tag.TagPrefix;
import com.gregtechceu.gtceu.api.machine.MultiblockMachineDefinition;
import com.gregtechceu.gtceu.api.pattern.FactoryBlockPattern;
import com.gregtechceu.gtceu.api.pattern.util.RelativeDirection;
import com.gregtechceu.gtceu.common.data.*;

import net.minecraft.core.BlockPos;
import net.minecraft.world.level.block.Blocks;
import net.minecraft.world.phys.shapes.Shapes;

import com.enderio.EnderIO;
import earth.terrarium.adastra.common.registry.ModBlocks;

import static com.gregtechceu.gtceu.api.GTValues.*;
import static com.gregtechceu.gtceu.api.machine.multiblock.PartAbility.*;
import static com.gregtechceu.gtceu.api.pattern.Predicates.*;
import static com.gregtechceu.gtceu.common.data.GTBlocks.CASING_COKE_BRICKS;
import static com.gregtechceu.gtceu.common.data.GTMachines.COKE_OVEN_HATCH;
import static com.gregtechceu.gtceu.common.data.GTRecipeTypes.DUMMY_RECIPES;
import static com.gtolib.utils.register.MachineRegisterUtils.multiblock;
import static com.gtolib.utils.register.MachineRegisterUtils.registerTieredMultis;

public final class MultiBlockG {

    public static void init() {}

    public static final MultiblockMachineDefinition LARGE_COKE_OVEN = multiblock("large_coke_oven", "大型焦炉", LargeCokeOvenMachine::new)
            .nonYAxisRotation()
            .tooltips(NewDataAttributes.ALLOW_PARALLEL_NUMBER.create(8))
            .recipeModifiers(RecipeModifierFunction.recipeReduction(1, 2), RecipeModifierFunction.accurateParallel(8))
            .recipeTypes(GTRecipeTypes.COKE_OVEN_RECIPES)
            .block(GTBlocks.CASING_COKE_BRICKS)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("AAAAA", "CAAAC", "CAAAC", "CAAAC")
                    .aisle("AAAAA", "AA AA", "AA AA", "AAAAA")
                    .aisle("AAAAA", "AA AA", "A   A", "AAAAA")
                    .aisle("AAAAA", "AA AA", "A   A", "AAAAA")
                    .aisle("AAAAA", "AA AA", "AA AA", "AAAAA")
                    .aisle("AAAAA", "CAAAC", "CABAC", "CAAAC")
                    .where('A', blocks(CASING_COKE_BRICKS.get()).or(blocks(COKE_OVEN_HATCH.get()).setMaxGlobalLimited(5)))
                    .where('B', controller(blocks(definition.get())))
                    .where(' ', air())
                    .where('C', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_coke_bricks"), GTCEu.id("block/multiblock/coke_oven"))
            .register();

    public static final MultiblockMachineDefinition CRYSTALLIZATION_CHAMBER = multiblock("crystallization_chamber", "结晶器", CoilMultiblockMachine.createCoilMachine(false, true))
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.CRYSTALLIZATION_RECIPES)
            .overclock()
            .block(GTBlocks.CASING_STEEL_SOLID)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("AaaaA", "ABBBA", "ABBBA", "AAAAA", "     ")
                    .aisle("aCCCa", "B   B", "B   B", "ACCCA", " AAA ")
                    .aisle("aCDCa", "B E B", "B E B", "ACDCA", " AAA ")
                    .aisle("aCCCa", "B   B", "B   B", "ACCCA", " AAA ")
                    .aisle("Aa~aA", "ABBBA", "ABBBA", "AAAAA", "     ")
                    .where('~', controller(blocks(definition.get())))
                    .where('A', blocks(GTBlocks.CASING_STEEL_SOLID.get()))
                    .where('a', blocks(GTBlocks.CASING_STEEL_SOLID.get())
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', blocks(GTBlocks.CASING_TEMPERED_GLASS.get()))
                    .where('C', heatingCoils())
                    .where('D', blocks(GTBlocks.CASING_INVAR_HEATPROOF.get()))
                    .where('E', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Steel)))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_solid_steel"), GTCEu.id("block/multiblock/large_chemical_reactor"))
            .register();

    public static final MultiblockMachineDefinition LARGE_CRYSTALLIZATION_CHAMBER = multiblock("large_crystallization_chamber", "大型结晶器", CoilMultiblockMachine.createCoilMachine(false, true))
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.CRYSTALLIZATION_RECIPES)
            .parallelizableTooltips()
            .parallelizableOverclock()
            .block(GCYMBlocks.CASING_HIGH_TEMPERATURE_SMELTING)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("     AAAAA     ", "     AAAAA     ", "      AAA      ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("   AAABBBAAA   ", "      CCC      ", "     AABAA     ", "       B       ", "       B       ", "       B       ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "     DDDDD     ", "               ")
                    .aisle("  ABBBBBBBBBA  ", "   AEEFFFEEA   ", "   AAAFFFAAA   ", "      FFF      ", "      GGG      ", "       B       ", "               ", "               ", "               ", "     GGGGG     ", "               ", "               ", "               ", "               ", "     DDDDD     ", "     EHHHE     ", "     EHHHE     ", "   DDDDDDDDD   ", "               ")
                    .aisle(" ABBBBBBBBBBBA ", "  ACFFIIIFFCA  ", "  ADFFIIIFFDA  ", "   DFFIIIFFD   ", "   DJCCCCCJD   ", "   DJCIIICJD   ", "    JCKKKCJ    ", "    JCKKKCJ    ", "    JCIIICJ    ", "    JCCCCCJ    ", "    JCIIICJ    ", "    JCKKKCJ    ", "   DJCKKKCJD   ", "   DJCIIICJD   ", "   DDDCCCDDD   ", "   DFFIIIFFD   ", "   DFFIIIFFD   ", "  DDDDDHDDDDD  ", "      D D      ")
                    .aisle(" ABBBBBBBBBBBA ", "  EFIILLLIIFE  ", "  AFIILLLIIFA  ", "   FIILLLIIF   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLOLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   DMNLLLNMD   ", "   FMNLLLNMF   ", "   FMNPPPNMF   ", "  DDDDDHDDDDD  ", "      D D      ")
                    .aisle("AABBBBBBBBBBBAA", "A EFIQ   QIFE A", " AAFIQ   QIFAA ", "   FIQ   QIF   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQQOQQNC   ", "  GCNQ   QNCG  ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "  DDNQ   QNDD  ", "  EFNQ   QNFE  ", "  EFNPPPPPNFE  ", " DDDDDDNDDDDDD ", "     DDDDD     ")
                    .aisle("ABBBBBBBBBBBBBA", "ACFIL     LIFCA", "AAFIL     LIFAA", "  FIL     LIF  ", "  GCL     LCG  ", "   IL     LI   ", "   KL     LK   ", "   KL     LK   ", "   ILQQOQQLI   ", "  GCL     LCG  ", "   IL     LI   ", "   KL     LK   ", "   KL     LK   ", "   IL     LI   ", "  DCL     LCD  ", "  HIL     LIH  ", "  HIPPPPPPPIH  ", " DDDDDDNDDDDDD ", "   DDDDHDDDD   ")
                    .aisle("ABBBBBBBBBBBBBA", "ACFIL  O  LIFCA", "ABFIL  O  LIFBA", " BFIL  O  LIFB ", " BGCL  O  LCGB ", " BBIL  O  LIBB ", "   KL  O  LK   ", "   KL  O  LK   ", "   IOOOOOOOI   ", "  GCL  O  LCG  ", "   IL  O  LI   ", "   KL  O  LK   ", "   KL  O  LK   ", "   IL  O  LI   ", "  DCL  O  LCD  ", "  HIL  O  LIH  ", "  HIPPPOPPPIH  ", " DDHHNNONNHHDD ", "     DHHHD     ")
                    .aisle("ABBBBBBBBBBBBBA", "ACFIL     LIFCA", "AAFIL     LIFAA", "  FIL     LIF  ", "  GCL     LCG  ", "   IL     LI   ", "   KL     LK   ", "   KL     LK   ", "   ILQQOQQLI   ", "  GCL     LCG  ", "   IL     LI   ", "   KL     LK   ", "   KL     LK   ", "   IL     LI   ", "  DCL     LCD  ", "  HIL     LIH  ", "  HIPPPPPPPIH  ", " DDDDDDNDDDDDD ", "   DDDDHDDDD   ")
                    .aisle("AABBBBBBBBBBBAA", "A EFIQ   QIFE A", " AAFIQ   QIFAA ", "   FIQ   QIF   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQQOQQNC   ", "  GCNQ   QNCG  ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "   CNQ   QNC   ", "  DDNQ   QNDD  ", "  EFNQ   QNFE  ", "  EFNPPPPPNFE  ", " DDDDDDNDDDDDD ", "     DDDDD     ")
                    .aisle(" ABBBBBBBBBBBA ", "  EFIILLLIIFE  ", "  AFIILLLIIFA  ", "   FIILLLIIF   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLOLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   JMNLLLNMJ   ", "   DMNLLLNMD   ", "   FMNLLLNMF   ", "   FMNPPPNMF   ", "  DDDDDHDDDDD  ", "      D D      ")
                    .aisle(" ABBBBBBBBBBBA ", "  ACFFIIIFFCA  ", "  ADFFIIIFFDA  ", "   DFFIIIFFD   ", "   DJCCCCCJD   ", "   DJCIIICJD   ", "    JCKKKCJ    ", "    JCKKKCJ    ", "    JCIIICJ    ", "    JCCCCCJ    ", "    JCIIICJ    ", "    JCKKKCJ    ", "   DJCKKKCJD   ", "   DJCIIICJD   ", "   DDDCCCDDD   ", "   DFFIIIFFD   ", "   DFFIIIFFD   ", "  DDDDDHDDDDD  ", "      D D      ")
                    .aisle("  ABBBBBBBBBA  ", "   AEEFFFEEA   ", "   AAAFFFAAA   ", "      FFF      ", "      GGG      ", "       B       ", "               ", "               ", "               ", "     GGGGG     ", "               ", "               ", "               ", "               ", "     DDDDD     ", "     EHHHE     ", "     EHHHE     ", "   DDDDDDDDD   ", "               ")
                    .aisle("   AAABBBAAA   ", "      CCC      ", "     AABAA     ", "       B       ", "       B       ", "       B       ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "     DDDDD     ", "               ")
                    .aisle("     AAAAA     ", "     AARAA     ", "      AAA      ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .where('A', blocks(GCYMBlocks.CASING_HIGH_TEMPERATURE_SMELTING.get())
                            .or(GTOPredicates.autoGCYMAbilities(definition.getRecipeTypes()))
                            .or(abilities(PARALLEL_HATCH).setExactLimit(1))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', blocks(GCYMBlocks.CASING_HIGH_TEMPERATURE_SMELTING.get()))
                    .where('C', blocks(GTOBlocks.HIGH_PRESSURE_RESISTANT_CASING.get()))
                    .where('D', blocks(GTOBlocks.IRIDIUM_CASING.get()))
                    .where('E', blocks(GTBlocks.CASING_EXTREME_ENGINE_INTAKE.get()))
                    .where('F', blocks(GTOBlocks.MAGNESIUM_OXIDE_CERAMIC_HIGH_TEMPERATURE_INSULATION_MECHANICAL_BLOCK.get()))
                    .where('G', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.NaquadahAlloy)))
                    .where('H', blocks(GTBlocks.CASING_GRATE.get()))
                    .where('I', blocks(GTOBlocks.PRESSURE_CONTAINMENT_CASING.get()))
                    .where('J', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Naquadah)))
                    .where('K', blocks(GTBlocks.FUSION_GLASS.get()))
                    .where('L', heatingCoils())
                    .where('M', blocks(GTOBlocks.PPS_CORROSION_RESISTANT_MECHANICAL_HOUSING.get()))
                    .where('N', blocks(GTOBlocks.BORON_CARBIDE_CERAMIC_RADIATION_RESISTANT_MECHANICAL_CUBE.get()))
                    .where('O', blocks(GTBlocks.CASING_TUNGSTENSTEEL_PIPE.get()))
                    .where('P', blocks(GCYMBlocks.CASING_CORROSION_PROOF.get()))
                    .where('Q', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.IncoloyMA956)))
                    .where('R', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/gcym/high_temperature_smelting_casing"), GTCEu.id("block/multiblock/large_chemical_reactor"))
            .register();

    public static final MultiblockMachineDefinition ALGAE_FARM = multiblock("algae_farm", "藻类农场", AlgaeFarmMachine::new)
            .nonYAxisRotation()
            .tooltipsText("每10秒随机消耗5-10B水，随机输出1-10个藻类", "Every 10 seconds, randomly consume 5-10B water, and randomly output 1-10 algae")
            .tooltipsText("如果输入10B发酵生物质，则输出量提升10倍", "If 10B fermentation biomass is placed on the input bus, then increase the output amount by 10 times")
            .tooltipsText("如果在输入总线放入n个特定藻类，则指定输出内容，且输出量提升n/4倍", "If n algae are in the input bus, specify the output content, and increase the output amount by n/4 times")
            .recipeTypes(GTORecipeTypes.DUMMY_RECIPES)
            .block(GTBlocks.PLASTCRETE)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("AAAGGGAAA", "CCCGGGCCC", "CCCCCCCCC")
                    .aisle("AEAEAEAEA", "C C C C C", "CFCFCFCFC")
                    .aisle("AEAEAEAEA", "C C C C C", "CCCCCCCCC")
                    .aisle("AEAEAEAEA", "C C C C C", "DFDFDFDFD")
                    .aisle("BBBBBBBBB", "C C C C C", "DFDFDFDFD")
                    .aisle("AEAEAEAEA", "C C C C C", "DFDFDFDFD")
                    .aisle("AEAEAEAEA", "C C C C C", "CCCCCCCCC")
                    .aisle("AEAEAEAEA", "C C C C C", "CFCFCFCFC")
                    .aisle("AAAGHGAAA", "CCCGGGCCC", "CCCCCCCCC")
                    .where('A', blocks(GTBlocks.PLASTCRETE.get()))
                    .where('B', blocks(GTBlocks.CASING_STEEL_PIPE.get()))
                    .where('C', blocks(GTOBlocks.BRASS_REINFORCED_WOODEN_CASING.get()))
                    .where('D', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Aluminium)))
                    .where('E', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('F', blocks(Blocks.GLASS))
                    .where('G', blocks(GTBlocks.PLASTCRETE.get())
                            .or(blocks(GTMachines.ITEM_IMPORT_BUS[ULV].getBlock()).setMaxGlobalLimited(1))
                            .or(abilities(IMPORT_FLUIDS).setExactLimit(1))
                            .or(abilities(EXPORT_ITEMS).setExactLimit(1)))
                    .where('H', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/cleanroom/plascrete"), GTCEu.id("block/multiblock/large_chemical_reactor"))
            .register();

    public static final MultiblockMachineDefinition POLYMERIZATION_REACTOR = multiblock("polymerization_reactor", "聚合反应器", CoilMultiblockMachine.createCoilMachine(false, false))
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.POLYMERIZATION_REACTOR_RECIPES)
            .recipeModifier(RecipeModifierFunction.coilReductionOverclock(0.5))
            .existingTooltips("chemical_plant", 0)
            .parallelizableTooltips()
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("A   A", "ABBBA", "ACDCA", "BCDCB", " BBB ")
                    .aisle("  B  ", "BEEEB", "C   C", "C   C", "BBBBB")
                    .aisle(" BBB ", "BEBEB", "D B D", "D B D", "BBBBB")
                    .aisle("  B  ", "BEEEB", "C   C", "C   C", "BBBBB")
                    .aisle("A   A", "AB~BA", "ACDCA", "BCDCB", " BBB ")
                    .where('~', controller(blocks(definition.get())))
                    .where('A', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('B', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('C', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(PARALLEL_HATCH).setMaxGlobalLimited(1))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('D', blocks(GTBlocks.CASING_TEMPERED_GLASS.get()))
                    .where('E', heatingCoils())
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/large_chemical_reactor"))
            .register();

    public static final MultiblockMachineDefinition SATELLITE_CONTROL_CENTER = multiblock("satellite_control_center", "卫星控制中心", SatelliteControlCenterMachine::new)
            .nonYAxisRotation()
            .tooltipsText("发射卫星，带回星球数据", "Launch a satellite and bring back planet data")
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start(RelativeDirection.BACK, RelativeDirection.UP, RelativeDirection.LEFT)
                    .aisle(" FFFFF ", "       ", "       ", "       ", "       ", "       ", "       ", "       ", "       ")
                    .aisle("FFFFFFF", " GHHHG ", " GHHHG ", " GHHHG ", " GHHHG ", "  HHH  ", "       ", "       ", "       ")
                    .aisle("FFFFFFF", " HICIH ", " HICIH ", " HICIH ", " HICIH ", " HICIH ", "  HHH  ", "       ", "       ")
                    .aisle("FFFFFFF", " HCJCH ", " KCJCH ", " HCJCH ", " HCJCH ", " HCJCH ", "  HHH  ", "       ", "       ")
                    .aisle("FFFFFFF", " HICIH ", " HICIH ", " HICIH ", " HICIH ", " HICIH ", "  HHH  ", "       ", "       ")
                    .aisle("FFFFFFF", " GHHHG ", " GHCHG ", " GHHHG ", " GHHHG ", "  HHH  ", "       ", "       ", "       ")
                    .aisle(" FBBBF ", "  BDB  ", "  BCB  ", "  BBB  ", "       ", "       ", "       ", "  AAA  ", "  AAA  ")
                    .aisle("  BBB  ", "  BDB  ", "  BCB  ", "  BCB  ", "   E   ", "   E   ", "  ACA  ", " A   A ", "       ")
                    .aisle("  BBB  ", "  BBB  ", "  BBB  ", "  BBB  ", "       ", "  AAA  ", " A   A ", "   C   ", "       ")
                    .aisle("       ", "       ", "       ", "       ", "       ", "  AAA  ", "       ", "       ", "       ")
                    .where('A', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('B', blocks(GTOBlocks.MULTI_FUNCTIONAL_CASING.get()))
                    .where('C', blocks(GTBlocks.CASING_STEEL_PIPE.get()))
                    .where('D', blocks(GTBlocks.CASING_STEEL_GEARBOX.get()))
                    .where('E', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Steel)))
                    .where('F', blocks(GTBlocks.CASING_STEEL_SOLID.get()))
                    .where('G', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('H', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .or(abilities(IMPORT_ITEMS).setMaxGlobalLimited(1))
                            .or(abilities(IMPORT_FLUIDS).setMaxGlobalLimited(1))
                            .or(abilities(EXPORT_ITEMS).setMaxGlobalLimited(2))
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('I', blocks(GTBlocks.CASING_STAINLESS_STEEL_GEARBOX.get()))
                    .where('J', blocks(GTBlocks.HERMETIC_CASING_HV.get()))
                    .where('K', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition ELECTRIC_COOKING = multiblock("electric_cooking", "电力烹饪锅", ElectricMultiblockMachine::new)
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.ELECTRIC_COOKING_RECIPES)
            .perfectOverclock()
            .perfectOCTooltips()
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start(RelativeDirection.RIGHT, RelativeDirection.UP, RelativeDirection.BACK)
                    .aisle("  A A  ", "       ", "       ", "       ", "       ", "       ", "       ", "       ")
                    .aisle("       ", "  A A  ", "  BFB  ", "  CDC  ", "  CDC  ", "  CDC  ", "  CCC  ", "       ")
                    .aisle("A EEE A", " ACBCA ", " B   B ", " C   C ", " C   C ", " C   C ", " C   C ", "  CBC  ")
                    .aisle("  ECE  ", "  BCB  ", " B   B ", " D   D ", " D   D ", " D   D ", " C   C ", "  BBB  ")
                    .aisle("A EEE A", " ACBCA ", " B   B ", " C   C ", " C   C ", " C   C ", " C   C ", "  CBC  ")
                    .aisle("       ", "  A A  ", "  BBB  ", "  CDC  ", "  CDC  ", "  CDC  ", "  CCC  ", "       ")
                    .aisle("  A A  ", "       ", "       ", "       ", "       ", "       ", "       ", "       ")
                    .where('A', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('B', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('C', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('D', blocks(GTBlocks.CASING_TEMPERED_GLASS.get()))
                    .where('E', blocks(GTBlocks.COIL_CUPRONICKEL.get()))
                    .where('F', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/large_miner"))
            .register();

    public static final MultiblockMachineDefinition TREE_GROWTH_SIMULATOR = multiblock("tree_growth_simulator", "原木拟生场", TreeGrowthSimulator::new)
            .allRotation()
            .tooltipsText("需要安装伐木工具，仅支持GT工具", "Requires a tree cutting tools")
            .tooltipsText("根据工具类型和品质决定产出和效率", "Output and efficiency determined by tool type and quality")
            .recipeTypes(GTORecipeTypes.TREE_GROWTH_SIMULATOR_RECIPES)
            .alwaysTryModifyRecipe(true)
            .block(GTOBlocks.BRASS_REINFORCED_WOODEN_CASING)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("aaa", "aaa", "aaa")
                    .aisle("aaa", "aca", "aaa")
                    .aisle("aaa", "aia", "aaa")
                    .where('a', blocks(GTOBlocks.BRASS_REINFORCED_WOODEN_CASING.get())
                            .or(abilities(IMPORT_ITEMS).setMaxGlobalLimited(1))
                            .or(abilities(IMPORT_FLUIDS).setMaxGlobalLimited(1))
                            .or(abilities(EXPORT_ITEMS).setMaxGlobalLimited(2))
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('i', controller(blocks(definition.get())))
                    .where('c', air())
                    .build())
            .workableCasingRenderer(GTOCore.id("block/casings/brass_reinforced_wooden_casing"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition LARGE_GREENHOUSE = multiblock("large_greenhouse", "大型温室", ElectricMultiblockMachine::new)
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.GREENHOUSE_RECIPES)
            .recipeTypes(GTORecipeTypes.TREE_GROWTH_SIMULATOR_RECIPES)
            .tooltipsText("无需要阳光就能运行", "Can operate without sunlight")
            .parallelizableTooltips()
            .parallelizableOverclock()
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("aaaaaaaaa", "aaaaaaaaa", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "aaaaaaaaa", "aaaaaaaaa")
                    .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
                    .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
                    .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
                    .aisle("aaaaaaaaa", "addddddda", "c       c", "c       c", "c       c", "c       c", "c       c", "c       c", "accccccca", "afffffffa")
                    .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
                    .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
                    .aisle("aaaaaaaaa", "addddddda", "b       b", "b       b", "b       b", "b       b", "b       b", "b       b", "aeeeceeea", "afffffffa")
                    .aisle("aaaaaaaaa", "aaaa~aaaa", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "abbbcbbba", "aaaaaaaaa", "aaaaaaaaa")
                    .where('~', controller(blocks(definition.get())))
                    .where('b', blocks(GTBlocks.CASING_TEMPERED_GLASS.get()))
                    .where('c', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('d', blocks(RegistriesUtils.getBlock("farmersdelight:rich_soil")))
                    .where('e', blocks(GTBlocks.CASING_POLYTETRAFLUOROETHYLENE_PIPE.get()))
                    .where('f', blocks(GTBlocks.CASING_GRATE.get()))
                    .where('a', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .setMinGlobalLimited(180)
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(PARALLEL_HATCH).setMaxGlobalLimited(1))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where(' ', air())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition AUTOMATIC_CHISEL = multiblock("automatic_chisel", "自动凿子", ChiselMachine::new)
            .allRotation()
            .tooltipsText("根据全部电路之和决定输出", "Determine the output based on the sum of all circuits")
            .tooltipsText("电压等级每高出LV等级1级，最大并行数x4", "For each increase of 1 tier in the voltage grade above LV, the maximum number of parallel is multiplied by 4.")
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.CASING_STEEL_SOLID)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("aaa", "aaa", "aaa")
                    .aisle("aaa", "aca", "aaa")
                    .aisle("aaa", "aia", "aaa")
                    .where('a', blocks(GTBlocks.CASING_STEEL_SOLID.get())
                            .or(abilities(IMPORT_ITEMS).setMaxGlobalLimited(4))
                            .or(abilities(EXPORT_ITEMS).setMaxGlobalLimited(1))
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('i', controller(blocks(definition.get())))
                    .where('c', air())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_solid_steel"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition ANCIENT_REACTOR_CORE = multiblock("ancient_reactor_core", "远古反应核", VoidTransporterMachine.create(1, 0, VoidTransporterMachine.teleportToDimension(GTODimensions.ANCIENT_WORLD, new BlockPos(0, 128, 0))))
            .nonYAxisRotation()
            .recipeTypes(DUMMY_RECIPES)
            .tooltipsText("右键核心传送到远古世界", "Right-click the core to send it to Ancient World.")
            .block(RegistriesUtils.getSupplierBlock("enderio:soularium_block"))
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("ABA")
                    .aisle("BCB")
                    .aisle("ABA")
                    .where('A', blocks(Blocks.DIAMOND_BLOCK))
                    .where('B', blocks(ModBlocks.STEEL_BLOCK.get()))
                    .where('C', controller(blocks(definition.get())))
                    .build())
            .workableCasingRenderer(EnderIO.loc("block/reinforced_obsidian_block"), GTOCore.id("block/multiblock/ancient_reactor_core"))
            .register();

    public static final MultiblockMachineDefinition NETHER_REACTOR_CORE = multiblock("nether_reactor_core", "下界反应核", VoidTransporterMachine.create(2, 1920, VoidTransporterMachine.teleportToDimension(GTODimensions.THE_NETHER, new BlockPos(0, 128, 0))))
            .nonYAxisRotation()
            .recipeTypes(DUMMY_RECIPES)
            .tooltipsKey("gtceu.universal.tooltip.voltage_in", VA[EV], VNF[EV])
            .tooltipsText("运行后右键核心传送到下界", "Right-click the core to send it to the Nether.")
            .block(RegistriesUtils.getSupplierBlock("enderio:soularium_block"))
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("ABA", "B B", " B ")
                    .aisle("BBB", " C ", "BBB")
                    .aisle("ABA", "B B", " B ")
                    .where('A', blocks(Blocks.GOLD_BLOCK))
                    .where('B', blocks(RegistriesUtils.getBlock("enderio:soularium_block"))
                            .or(abilities(INPUT_ENERGY).setExactLimit(1)))
                    .where('C', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(EnderIO.loc("block/soularium_block"), GTOCore.id("block/multiblock/nether_reactor_core"))
            .register();

    public static final MultiblockMachineDefinition VOID_TRANSPORTER = multiblock("void_transporter", "虚空传送器", VoidTransporterMachine.create(0, 480))
            .nonYAxisRotation()
            .recipeTypes(DUMMY_RECIPES)
            .tooltipsKey("gtceu.universal.tooltip.voltage_in", VA[HV], VNF[HV])
            .tooltipsText("运行后右键黑曜石传送到虚空，如果是哭泣黑曜石则为超平坦", "Right-click obsidian to send it to the void, and if it is crying obsidian, it will be flat.")
            .block(RegistriesUtils.getSupplierBlock("enderio:reinforced_obsidian_block"))
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("AAA", "AAA", "AAA")
                    .aisle("AAA", "ABA", "AAA")
                    .aisle("A~A", "ACA", "AAA")
                    .where('~', controller(blocks(definition.get())))
                    .where('A', blocks(RegistriesUtils.getBlock("enderio:reinforced_obsidian_block"))
                            .or(abilities(INPUT_ENERGY).setExactLimit(1)))
                    .where('B', blocks(ANCIENT_REACTOR_CORE.getBlock()))
                    .where('C', blocks(Blocks.OBSIDIAN).or(blocks(Blocks.CRYING_OBSIDIAN)))
                    .build())
            .workableCasingRenderer(EnderIO.loc("block/reinforced_obsidian_block"), GTCEu.id("block/multiblock/implosion_compressor"))
            .register();

    public static final MultiblockMachineDefinition BOSS_SUMMONER = multiblock("boss_summoner", "BOSS召唤器", BossSummonerMachine::new)
            .nonYAxisRotation()
            .tooltipsText("电力与反应核的作用", "Electricity and Reactor Core Function")
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.MACHINE_CASING_ULV)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("AAaAA", "     ")
                    .aisle("AAAAA", " AAA ")
                    .aisle("aAAAa", " ABA ")
                    .aisle("AAAAA", " AAA ")
                    .aisle("AA~AA", "     ")
                    .where('~', controller(blocks(definition.get())))
                    .where('A', blocks(GTBlocks.MACHINE_CASING_ULV.get()))
                    .where('a', blocks(GTBlocks.MACHINE_CASING_ULV.get())
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2, 1)))
                    .where('B', blocks(ANCIENT_REACTOR_CORE.getBlock()))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/voltage/ulv/side"), GTCEu.id("block/multiblock/implosion_compressor"))
            .register();

    public static final MultiblockMachineDefinition DRILLING_CONTROL_CENTER = multiblock("drilling_control_center", "钻井控制中枢", DrillingControlCenterMachine::new)
            .nonYAxisRotation()
            .tooltipsText("电压等级每高出IV一级，可使16M范围内的流体钻机产量x1.5", "Voltage tier is increased by one level above IV, it can increase the fluid drill's output within a 16 M range by x1.5")
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.CASING_STEEL_SOLID)
            .pattern(definition -> FactoryBlockPattern.start(RelativeDirection.RIGHT, RelativeDirection.UP, RelativeDirection.BACK)
                    .aisle(" AAAAA ", "  AIA  ", "       ", "       ", "       ", "       ", "       ", "       ", "       ", "       ")
                    .aisle("AABBBAA", " CBBBC ", " CDDDC ", "  DDD  ", "  DDD  ", "  DDD  ", "  DDD  ", "  BBB  ", "  BBB  ", "       ")
                    .aisle("ABEEEBA", "ABEEEBA", " DEFED ", " DEFED ", " DEFED ", " DEFED ", " DEFED ", " BEEEB ", " BBBBB ", "   B   ")
                    .aisle("ABEEEBA", "ABEEEBA", " DFGFD ", " DFHFD ", " DFGFD ", " DFHFD ", " DFGFD ", " BEEEB ", " BBBBB ", "  BBB  ")
                    .aisle("ABEEEBA", "ABEEEBA", " DEFED ", " DEFED ", " DEFED ", " DEFED ", " DEFED ", " BEEEB ", " BBBBB ", "   B   ")
                    .aisle("AABBBAA", " CBBBC ", " CDDDC ", "  DDD  ", "  DDD  ", "  DDD  ", "  DDD  ", "  BBB  ", "  BBB  ", "       ")
                    .aisle(" AAAAA ", "  AAA  ", "       ", "       ", "       ", "       ", "       ", "       ", "       ", "       ")
                    .where('A', blocks(GTBlocks.CASING_STEEL_SOLID.get())
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', blocks(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST.get()))
                    .where('C', blocks(GTBlocks.CASING_TITANIUM_STABLE.get()))
                    .where('D', blocks(GTOBlocks.TUNGSTEN_BOROSILICATE_GLASS.get()))
                    .where('E', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('F', blocks(GTBlocks.MACHINE_CASING_IV.get()))
                    .where('G', blocks(GTBlocks.CASING_TUNGSTENSTEEL_GEARBOX.get()))
                    .where('H', blocks(GTBlocks.HERMETIC_CASING_IV.get()))
                    .where('I', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_solid_steel"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition DRONE_CONTROL_CENTER = multiblock("drone_control_center", "无人机控制中心", DroneControlCenterMachine::new)
            .nonYAxisRotation()
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start(RelativeDirection.RIGHT, RelativeDirection.UP, RelativeDirection.BACK)
                    .aisle("ABAAA  ", "ADA A  ", "AAA A  ", "AABAA  ", "A A A  ", "A A A  ", "AAAAA  ")
                    .aisle("AAAAAAA", "A ACAAA", "A ACAAA", "AAAAAAA", "ACACAAA", "ACACA  ", "AAAAA  ")
                    .aisle("AAAAAAB", "A A A A", "A A A A", "AAAAA A", "A A A A", "A A A  ", "AAAAA  ")
                    .aisle("AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAA  ", "AAAAA  ")
                    .where('A', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('B', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .or(abilities(EXPORT_ITEMS).setMaxGlobalLimited(1))
                            .or(abilities(GTOPartAbility.DRONE_HATCH).setExactLimit(1)))
                    .where('C', blocks(GTBlocks.CASING_STAINLESS_STEEL_GEARBOX.get()))
                    .where('D', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition WIRELESS_ENERGY_SUBSTATION = multiblock("wireless_energy_substation", "无线能源塔", WirelessEnergySubstationMachine::new)
            .nonYAxisRotation()
            .recipeTypes(DUMMY_RECIPES)
            .tooltipsText("为无线电网提供容量支持", "Provides capacity support to the wireless grid")
            .tooltipsText("可在内部安装任意无线能量单元来提高容量上限", "You can install any wireless energy unit inside to increase the capacity limit")
            .tooltipsText("实际起作用的单元受玻璃等级限制", "The actual working units are limited by the glass tier")
            .tooltipsText("总容量为单元容量之和x单元数的一半，总损耗为单元损耗平均值", "Total capacity is the sum of unit capacities x number of units / 2, total loss is the average loss of units")
            .block(GTBlocks.CASING_STEEL_SOLID)
            .pattern(definition -> FactoryBlockPattern.start(RelativeDirection.RIGHT, RelativeDirection.FRONT, RelativeDirection.UP)
                    .aisle("AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAABAAA")
                    .aisle("ACCCCCA", "CDDDDDC", "CDDDDDC", "CDDDDDC", "CDDDDDC", "CDDDDDC", "ACCCCCA").setRepeatable(2, 30)
                    .aisle("AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA", "AAAAAAA")
                    .where('A', blocks(GTBlocks.CASING_STEEL_SOLID.get()))
                    .where('B', controller(blocks(definition.get())))
                    .where('C', GTOPredicates.glass())
                    .where('D', air().or(GTOPredicates.wirelessEnergyUnit()))
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_solid_steel"), GTCEu.id("block/multiblock/power_substation"))
            .register();

    public static final MultiblockMachineDefinition WIRELESS_DIMENSION_REPEATER = multiblock("wireless_dimension_repeater", "无线电网维度中继器", WirelessDimensionRepeaterMachine::new)
            .nonYAxisRotation()
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.CASING_PALLADIUM_SUBSTATION)
            .tooltips(NewDataAttributes.EMPTY_WITH_BAR.create(
                    v -> v.addLines("中继无线能源网络能量", "Repeats the wireless energy network energy", StyleBuilder::setAqua),
                    c -> c.addCommentLines(
                            """
                                    在不同维度间中继能量
                                    能量最大电压取决于使用的外壳等级
                                    与电流大小无关""",
                            """
                                    Energy is repeated between different dimensions.
                                    The maximum voltage of energy depends on the shell tier.
                                    It is not related to the current size.""")))
            .tooltips(ComponentBuilder.create("没有电流上限简直是原始人的超级科技", "No current limit is a super technology of the primitive", s -> s.setGray().setItalic()).buildSingle())
            .pattern(definition -> FactoryBlockPattern.start(RelativeDirection.BACK, RelativeDirection.UP, RelativeDirection.LEFT)
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "      AAA      ", "     BBBB      ", "      AAA      ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "       C AA    ", "      DCDBB    ", "       C AA    ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "       C   A   ", "       E DDB   ", "       C   A   ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "            A  ", "           DB  ", "            A  ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "             A ", "            DB ", "             A ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "             A ", "       F    DB ", "             A ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("      AAA      ", "    AA C       ", "   A   C       ", "  A            ", " A             ", " A             ", "A             A", "ACC          DB", "A             A", " A             ", " A             ", "  A            ", "   A   C       ", "    AA C       ", "      AAA      ")
                    .aisle("      BBBB     ", "    BGECE      ", "   BEE         ", "  BE           ", " BE            ", " BE    F       ", "BE          CCA", "HCD  F   F  ECB", "BE          CCA", " BE    F       ", " BE            ", "  BE           ", "   BEE D       ", "    BBECE      ", "      BBBB     ")
                    .aisle("      AAA      ", "    AA C       ", "   A   C       ", "  A            ", " A             ", " A             ", "A             A", "ACC          DB", "A             A", " A             ", " A             ", "  A            ", "   A   C       ", "    AA C       ", "      AAA      ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "             A ", "       F    DB ", "             A ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "             A ", "            DB ", "             A ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "            A  ", "           DB  ", "            A  ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "       C   A   ", "       E DDB   ", "       C   A   ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "       C AA    ", "      DCDBB    ", "       C AA    ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .aisle("               ", "               ", "               ", "               ", "               ", "               ", "      AAA      ", "     BBBB      ", "      AAA      ", "               ", "               ", "               ", "               ", "               ", "               ")
                    .where('A', blocks(GTBlocks.CASING_PALLADIUM_SUBSTATION.get()))
                    .where('B', GTOPredicates.integralFramework())
                    .where('C', blocks(GTBlocks.HIGH_POWER_CASING.get()))
                    .where('D', blocks(Blocks.SEA_LANTERN))
                    .where('E', blocks(Blocks.CRYING_OBSIDIAN))
                    .where('F', blocks(RegistriesUtils.getBlock("ae2:quantum_ring")))
                    .where('G', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('H', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_palladium_substation"), GTCEu.id("block/multiblock/power_substation"))
            .register();

    public static final MultiblockMachineDefinition[] PROCESSING_ARRAY = registerTieredMultis("processing_array", t -> GTOValues.VNFR[t] + "处理阵列",
            ProcessingArrayMachine::new, (tier, builder) -> builder
                    .langValue(VNF[tier] + " Processing Array")
                    .nonYAxisRotation()
                    .recipeTypes(DUMMY_RECIPES)
                    .tooltipsKey("gtocore.machine.processing_array.tooltip.0")
                    .tooltipsKey("gtocore.machine.processing_array.tooltip.1")
                    .specialParallelizableTooltips()
                    .tooltips(NewDataAttributes.ALLOW_PARALLEL_NUMBER.create(ProcessingArrayMachine.getMachineLimit(tier)))
                    .alwaysTryModifyRecipe(true)
                    .laserTooltips()
                    .block(() -> ProcessingArrayMachine.getCasingState(tier))
                    .blockProp(p -> p.noOcclusion().isViewBlocking((state, level, pos) -> false))
                    .shape(Shapes.box(0.001, 0.001, 0.001, 0.999, 0.999, 0.999))
                    .pattern(definition -> FactoryBlockPattern.start()
                            .aisle("XXX", "CCC", "XXX")
                            .aisle("XXX", "C#C", "XXX")
                            .aisle("XSX", "CCC", "XXX")
                            .where('S', controller(blocks(definition.getBlock())))
                            .where('X', blocks(ProcessingArrayMachine.getCasingState(tier))
                                    .setMinGlobalLimited(6)
                                    .or(abilities(IMPORT_ITEMS))
                                    .or(abilities(EXPORT_ITEMS))
                                    .or(abilities(IMPORT_FLUIDS))
                                    .or(abilities(EXPORT_FLUIDS))
                                    .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(1))
                                    .or(abilities(INPUT_LASER).setMaxGlobalLimited(1))
                                    .or(blocks(GTOMachines.MACHINE_ACCESS_INTERFACE.getBlock()).setExactLimit(1))
                                    .or(abilities(MAINTENANCE).setExactLimit(1)))
                            .where('C', GTOPredicates.glass())
                            .where('#', air())
                            .build())
                    .renderer(() -> new ArrayMachineRenderer(tier == IV ? GTCEu.id("block/casings/solid/machine_casing_robust_tungstensteel") : GTCEu.id("block/casings/solid/machine_casing_sturdy_hsse"), GTCEu.id("block/multiblock/gcym/large_assembler")))
                    .register(),
            IV, LuV);

    public static final MultiblockMachineDefinition SINTERING_FURNACE = multiblock("sintering_furnace", "烧结炉", CoilMultiblockMachine.createCoilMachine(false, true))
            .nonYAxisRotation()
            .parallelizableTooltips()
            .recipeTypes(GTORecipeTypes.SINTERING_FURNACE_RECIPES)
            .parallelizableOverclock()
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("     ", " AAA ", " AHA ", " AAA ", "     ")
                    .aisle(" CCC ", "CDDDC", "CD DC", "CDDDC", " CCC ")
                    .aisle(" CEC ", "CDFDC", "GF FG", "CDFDC", " CEC ")
                    .aisle(" CEC ", "CDFDC", "GF FG", "CDFDC", " CEC ")
                    .aisle(" CEC ", "CDFDC", "GF FG", "CDFDC", " CEC ")
                    .aisle(" CCC ", "CDDDC", "CD DC", "CDDDC", " CCC ")
                    .aisle("     ", " AAA ", " ABA ", " AAA ", "     ")
                    .where('A', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(PARALLEL_HATCH).setMaxGlobalLimited(1))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', controller(blocks(definition.get())))
                    .where('C', blocks(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST.get()))
                    .where('D', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get()))
                    .where('E', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('F', heatingCoils())
                    .where('G', blocks(GTBlocks.CASING_TEMPERED_GLASS.get()))
                    .where('H', abilities(MUFFLER))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/blast_furnace"))
            .register();

    public static final MultiblockMachineDefinition ISOSTATIC_PRESS = multiblock("isostatic_press", "等静压成型", ElectricMultiblockMachine::new)
            .nonYAxisRotation()
            .parallelizableTooltips()
            .recipeTypes(GTORecipeTypes.ISOSTATIC_PRESSING_RECIPES)
            .parallelizableOverclock()
            .block(GTBlocks.CASING_TITANIUM_STABLE)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("AAAAA", "A   A", "A   A", "A   A", "BBBBB", "CCCCC", "     ", "     ")
                    .aisle("ABBBA", " DDD ", " DDD ", " DDD ", "BDDDB", "C   C", "     ", " BBB ")
                    .aisle("ABBBA", " DDD ", " D D ", " D D ", "BDFDB", "B F B", "B F B", "BBFBB")
                    .aisle("ABBBA", " DDD ", " DDD ", " DDD ", "BDDDB", "C   C", "     ", " BBB ")
                    .aisle("AAEAA", "A   A", "A   A", "A   A", "BBBBB", "CCCCC", "     ", "     ")
                    .where('A', blocks(GTBlocks.CASING_TITANIUM_STABLE.get())
                            .or(GTOPredicates.autoAccelerateAbilities(definition.getRecipeTypes()))
                            .or(abilities(PARALLEL_HATCH).setMaxGlobalLimited(1))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', blocks(GTBlocks.CASING_TITANIUM_STABLE.get()))
                    .where('C', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.BlueSteel)))
                    .where('D', blocks(GTOBlocks.COMPRESSOR_CONTROLLER_CASING.get()))
                    .where('E', controller(blocks(definition.get())))
                    .where('F', blocks(GTOBlocks.COMPRESSOR_PIPE_CASING.get()))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_stable_titanium"), GTCEu.id("block/multiblock/gcym/large_material_press"))
            .register();

    public static final MultiblockMachineDefinition DRAWING_TOWER = multiblock("drawing_tower", "拉丝塔", DrawingTowerMachine::new)
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.DRAWING_RECIPES)
            .block(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST)
            .pattern(definition -> FactoryBlockPattern.start(RelativeDirection.BACK, RelativeDirection.RIGHT, RelativeDirection.UP)
                    .aisle("NNNNNNNN", "NAAAAAAN", "NAAAAAAN", "NAAAAAAN", "NNNNNNNN")
                    .aisle("NNNNNNNN", "NAFA   N", "HCC    N", "NAFA   N", "NNNNNNNN")
                    .aisle(" AAAAAAA", " AFA   A", " CC B  A", " AFA   A", " AAAAAAA")
                    .aisle(" AAAAAAA", " AFFF  A", " CCBBB A", " AFFF  A", " AAAIAAA")
                    .aisle("  AAAAAA", "  AAA  A", "  C B  A", "  AAA  A", "  AAAAAA")
                    .aisle("   AABAA", "   A   A", "   B   A", "   A   A", "   AABAA")
                    .aisle("   CCBCC", "   C   C", "   B   B", "   C   C", "   CCBcC").setRepeatable(16, 96)
                    .aisle("   AAAAA", "   A   A", "   A   A", "   A   A", "   AAAAA")
                    .aisle("   DDADD", "   DGGGD", "   AG GA", "   DGGGD", "   DDADD")
                    .aisle("   DDADD", "   DGGGD", "   AG GA", "   DGGGD", "   DDADD")
                    .aisle("   AAAAA", "   A   A", "   A   A", "   A   A", "   AAAAA")
                    .aisle("   DDEDD", "   D   D", "   E   E", "   D   D", "   DDEDD")
                    .aisle("   DDEDD", "   D   D", "   E   E", "   D   D", "   DDEDD")
                    .aisle("   DDEDD", "   DDEDD", "   EEEEE", "   DDEDD", "   DDEDD")
                    .aisle("   AAAAA", "   AAAAA", "   AAMAA", "   AAAAA", "   AAAAA")
                    .where('A', blocks(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST.get()))
                    .where('M', blocks(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST.get())
                            .or(abilities(IMPORT_ITEMS).setExactLimit(1)))
                    .where('N', blocks(GTBlocks.CASING_TUNGSTENSTEEL_ROBUST.get())
                            .or(abilities(EXPORT_ITEMS))
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('B', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('C', blocks(GTBlocks.CASING_LAMINATED_GLASS.get()))
                    .where('c', GTOPredicates.countBlock("laminated_glass", GTBlocks.CASING_LAMINATED_GLASS.get()))
                    .where('D', blocks(GTOBlocks.TUNGSTEN_BOROSILICATE_GLASS.get()))
                    .where('E', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.TungstenSteel)))
                    .where('F', blocks(GTBlocks.CASING_TUNGSTENSTEEL_GEARBOX.get()))
                    .where('G', heatingCoils())
                    .where('H', controller(blocks(definition.get())))
                    .where('I', blocks(GTOMachines.SPOOL_HATCH.get()))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_robust_tungstensteel"), GTCEu.id("block/multiblock/large_miner"))
            .register();

    public static final MultiblockMachineDefinition ROCKET_ASSEMBLER = multiblock("rocket_assembler", "火箭装配机", ElectricMultiblockMachine::new)
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.ROCKET_ASSEMBLER_RECIPES)
            .noRecipeModifier()
            .block(GTBlocks.CASING_STAINLESS_CLEAN)
            .pattern(definition -> FactoryBlockPattern.start(RelativeDirection.RIGHT, RelativeDirection.UP, RelativeDirection.BACK)
                    .aisle("      AAAAA      ", "       JJJ       ", "       JKJ       ", "       JJJ       ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("    AAAAAAAAA    ", "      ABBBA      ", "       JJJ       ", "       JJJ       ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("   AAAAAAAAAAA   ", "    AADDDDDAA    ", "       JJJ       ", "       JJJ       ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("  AAAAABABAAAAA  ", "   ADD     DDA   ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("  AAAAABABAAAAA  ", "  ADCC     CCDA  ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "   CCCCCCCCCCC   ", "     C     C     ", "     C     C     ", "     C     C     ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle(" AAAAAABABAAAAAA ", " AAD         DAA ", " AAA         AAA ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AA         AA  ", "   A         A   ", "   A         A   ", "   A         A   ", "   A         A   ", "   C         C   ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("AAAAAAABABAAAAAAA", "AAAD         DAAA", " AAA         AAA ", " AAA         AAA ", " AAA         AAA ", " AAAFF     FFAAA ", " AAA         AAA ", " AAA         AAA ", " AAA         AAA ", " AAAFF     FFAAA ", "  AA         AA  ", "  AA         AA  ", "  AA         AA  ", "  AA         AA  ", "  AAFF     FFAA  ", "  AAF       FAA  ", "  AAF       FAA  ", "   AF       FA   ", "   AFF     FFA   ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("AAAAAAABABAAAAAAA", "AAGHI       IHGAA", " DGHI       IHGD ", " DGHI       IHGD ", " DGHI       IHGD ", " DGHI       IHGD ", " DGHI       IHGD ", " DGHI       IHGD ", " DGHI       IHGD ", " AGHI       IHGA ", "  DAI       IAD  ", "  DBI       IBD  ", "  DBI       IBD  ", "  DBI       IBD  ", "  DBI       IBD  ", "  DBI       IBD  ", "  ABI       IBA  ", "  AAI       IAA  ", "  AAA       AAA  ", "   AF       FA   ", "   AF       FA   ", "   AF       FA   ", "   A         A   ", "   A         A   ")
                    .aisle("AAAAAAABABAAAAAAA", "AAAD         DAAA", " AAA         AAA ", " AAA         AAA ", " AAA         AAA ", " AAAFF     FFAAA ", " AAA         AAA ", " AAA         AAA ", " AAA         AAA ", " AAAFF     FFAAA ", "  AA         AA  ", "  AA         AA  ", "  AA         AA  ", "  AA         AA  ", "  AAFF     FFAA  ", "  AAF       FAA  ", "  AAF       FAA  ", "   AF       FA   ", "   AFF     FFA   ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle(" AAAAAABABAAAAAA ", " AAD         DAA ", " AAA         AAA ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AE         EA  ", "  AA         AA  ", "   A         A   ", "   A         A   ", "   A         A   ", "   A         A   ", "   C         C   ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("  AAAAABABAAAAA  ", "  ADCC     CCDA  ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "     C     C     ", "   CCCCCCCCCCC   ", "     C     C     ", "     C     C     ", "     C     C     ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("  AAAAABABAAAAA  ", "   ADC     CDA   ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("   AAAABABAAAA   ", "    AC     CA    ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("    AAABABAAA    ", "    AC     CA    ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .aisle("     AABABAA     ", "     AA   AA     ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ", "                 ")
                    .where('A', blocks(GTBlocks.CASING_STEEL_SOLID.get()))
                    .where('B', blocks(GTBlocks.CASING_STEEL_GEARBOX.get()))
                    .where('C', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Steel)))
                    .where('D', blocks(GTBlocks.CASING_GRATE.get()))
                    .where('E', blocks(GTBlocks.HERMETIC_CASING_LV.get()))
                    .where('F', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.StainlessSteel)))
                    .where('G', blocks(GTBlocks.HERMETIC_CASING_HV.get()))
                    .where('H', blocks(GTBlocks.CASING_STAINLESS_STEEL_GEARBOX.get()))
                    .where('I', blocks(GTBlocks.CASING_STEEL_PIPE.get()))
                    .where('J', blocks(GTBlocks.CASING_STAINLESS_CLEAN.get())
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('K', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_clean_stainless_steel"), GTCEu.id("block/multiblock/gcym/large_assembler"))
            .register();

    public static final MultiblockMachineDefinition GAS_COMPRESSOR = multiblock("gas_compressor", "气体压缩机", ElectricMultiblockMachine::new)
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.GAS_COMPRESSOR_RECIPES)
            .parallelizablePerfectOverclock()
            .parallelizableTooltips()
            .perfectOCTooltips()
            .block(GTBlocks.CASING_STEEL_SOLID)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle(" A A     ", " A A     ", " BBB     ", " BBB     ", " BBB     ", "         ")
                    .aisle("AAAAA CCC", "ABBBA CCC", "B   B CCC", "B E B    ", "B   B    ", " BBB     ")
                    .aisle("      CCC", " BBB  CFC", "B   B CEC", "B E B  G ", "B   B  G ", " BBBGGGG ")
                    .aisle("AAAAA CCC", "ABBBA CFC", "B   B CCC", "B E B    ", "B   B    ", " BBB     ")
                    .aisle("      CCC", " BBB  CFC", "B   B CEC", "B E B  G ", "B   BGGG ", " BBB     ")
                    .aisle("AAAAA CCC", "ABBBA CDC", "B   B CCC", "B E B    ", "B   B    ", " BBB     ")
                    .aisle(" A A     ", " A A     ", " BBB     ", " BBB     ", " BBB     ", "         ")
                    .where('A', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Invar)))
                    .where('B', blocks(GTBlocks.CASING_INVAR_HEATPROOF.get()))
                    .where('C', blocks(GTBlocks.CASING_STEEL_SOLID.get())
                            .or(autoAbilities(definition.getRecipeTypes()))
                            .or(abilities(PARALLEL_HATCH).setMaxGlobalLimited(1))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('D', controller(blocks(definition.get())))
                    .where('E', blocks(GTBlocks.CASING_STEEL_PIPE.get()))
                    .where('F', blocks(GTBlocks.HERMETIC_CASING_LV.get()))
                    .where('G', blocks(GTBlocks.STEEL_HULL.get()))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_solid_steel"), GTCEu.id("block/multiblock/gcym/large_material_press"))
            .register();

    public static final MultiblockMachineDefinition SUPER_MOLECULAR_ASSEMBLER = multiblock("super_molecular_assembler", "超级分子装配室", SuperMolecularAssemblerMachine::new)
            .nonYAxisRotation()
            .recipeTypes(GTORecipeTypes.DUMMY_RECIPES)
            .block(GTOBlocks.OXIDATION_RESISTANT_HASTELLOY_N_MECHANICAL_CASING)
            .pattern(definition -> FactoryBlockPattern.start(RelativeDirection.RIGHT, RelativeDirection.UP, RelativeDirection.BACK)
                    .aisle("         ", "    A    ", "    A    ", "    A    ", "    B    ", "  BBLBB  ", "    B    ", "    A    ", "    A    ", "    A    ", "         ")
                    .aisle("    A    ", "   CBC   ", "  CCBCC  ", "  DCBCD  ", "  DCECD  ", " BDCECDB ", "  DCECD  ", "  DCBCD  ", "  CCBCC  ", "   CBC   ", "    A    ")
                    .aisle("    A    ", "  CFGFC  ", " CHHHHHC ", " D  E  D ", " D     D ", "BD     DB", " D     D ", " D  E  D ", " CHHHHHC ", "  CFGFC  ", "    A    ")
                    .aisle("    A    ", " CFFGFFC ", " CHIIIHC ", " C  J  C ", " C     C ", "BC     CB", " C     C ", " C  J  C ", " CHIIIHC ", " CFFGFFC ", "    A    ")
                    .aisle(" AAAAAAA ", "ABGGGGGBA", "ABHIIIHBA", "ABEJKJEBA", "BE  K  EB", "BE  K  EB", "BE  K  EB", "ABEJKJEBA", "ABHIIIHBA", "ABGGGGGBA", " AAAAAAA ")
                    .aisle("    A    ", " CFFGFFC ", " CHIIIHC ", " C  J  C ", " C     C ", "BC     CB", " C     C ", " C  J  C ", " CHIIIHC ", " CFFGFFC ", "    A    ")
                    .aisle("    A    ", "  CFGFC  ", " CHHHHHC ", " D  E  D ", " D     D ", "BD     DB", " D     D ", " D  E  D ", " CHHHHHC ", "  CFGFC  ", "    A    ")
                    .aisle("    A    ", "   CBC   ", "  CCBCC  ", "  DCBCD  ", "  DCECD  ", " BDCECDB ", "  DCECD  ", "  DCBCD  ", "  CCBCC  ", "   CBC   ", "    A    ")
                    .aisle("         ", "    A    ", "    A    ", "    A    ", "    B    ", "  BBBBB  ", "    B    ", "    A    ", "    A    ", "    A    ", "         ")
                    .where('A', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTOMaterials.HastelloyN)))
                    .where('B', blocks(GTOBlocks.OXIDATION_RESISTANT_HASTELLOY_N_MECHANICAL_CASING.get()))
                    .where('C', blocks(GTOBlocks.ZIRCONIA_CERAMIC_HIGH_STRENGTH_BENDING_RESISTANCE_MECHANICAL_BLOCK.get()).setMinGlobalLimited(20)
                            .or(blocks(GTAEMachines.ME_CRAFT_PATTERN_PART_MACHINE.get()))
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2))
                            .or(abilities(EXPORT_ITEMS)))
                    .where('D', blocks(GTOBlocks.NAQUADAH_BOROSILICATE_GLASS.get()))
                    .where('E', blocks(GTOBlocks.MAGTECH_CASING.get()))
                    .where('F', blocks(GTOBlocks.PROCESS_MACHINE_CASING.get()))
                    .where('G', blocks(GTBlocks.CASING_ASSEMBLY_LINE.get()))
                    .where('H', blocks(GTBlocks.HIGH_POWER_CASING.get()))
                    .where('I', blocks(GTOBlocks.COMPRESSOR_CONTROLLER_CASING.get()))
                    .where('J', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Europium)))
                    .where('K', blocks(GTOBlocks.EXTREME_DENSITY_CASING.get()))
                    .where('L', controller(blocks(definition.get())))
                    .where(' ', any())
                    .build())
            .renderer(() -> new CustomPartRenderer(GTOCore.id("block/casings/oxidation_resistant_hastelloy_n_mechanical_casing"), GTCEu.id("block/multiblock/fusion_reactor"), GTOCore.id("block/zirconia_ceramic_high_strength_bending_resistance_mechanical_block")))
            .register();

    public static final MultiblockMachineDefinition RARITY_FORGE = multiblock("rarity_forge", "珍宝锻炉", ElectricMultiblockMachine::new)
            .allRotation()
            .recipeTypes(GTORecipeTypes.RARITY_FORGE_RECIPES)
            .block(GTBlocks.MACHINE_CASING_ULV)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("aaa", "aaa", "aaa")
                    .aisle("aaa", "aca", "aaa")
                    .aisle("aaa", "aia", "aaa")
                    .where('a', blocks(GTBlocks.MACHINE_CASING_ULV.get())
                            .or(abilities(IMPORT_ITEMS).setMaxGlobalLimited(3))
                            .or(abilities(EXPORT_ITEMS).setMaxGlobalLimited(1))
                            .or(abilities(INPUT_ENERGY).setMaxGlobalLimited(2)))
                    .where('i', controller(blocks(definition.get())))
                    .where('c', air())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/voltage/ulv/side"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition ME_STORAGE = multiblock("me_storage", "ME存储器", MEStorageMachine::new)
            .langValue("ME Storage")
            .allRotation()
            .tooltips(NewDataAttributes.EMPTY_WITH_BAR.create(
                    v -> v.addLines("不受存储类型限制", "Without storage type restrictions", StyleBuilder::setAqua),
                    c -> c.addCommentLines(
                            """
                                    你需要在结构中安装_存储核心_来提升容量。
                                    结构可以延长,在EMI看看能有多长吧
                                    使用ME数据访问仓连接ME线缆来访问储存器。""",
                            """
                                    You need to install storage cores in the structure to increase capacity.
                                    The structure can be extended, see how long it can be in EMI.
                                    Use ME Data Access Hatch to connect ME cables to access the storage.""")))
            .tooltips(NewDataAttributes.EMPTY_WITH_BAR.create(
                    v -> v.addLines("无限容量模式 : 满足下列条件时自动启用", "Infinite Capacity Mode : Automatically enable when the following conditions are met", StyleBuilder::setRainbow),
                    c -> c.addCommentLines(
                            """
                                    至少安装有 %s Bytes 容量
                                    至少安装有 64 个无限存储组件""".formatted(NumberUtils.formatLongToKorM(MEStorageMachine.infinite)),
                            """
                                    At least %s Bytes capacity installed
                                    At least 64 Infinite Storage Components installed""".formatted(NumberUtils.formatLongToKorM(MEStorageMachine.infinite)))))
            .tooltips(NewDataAttributes.CAPACITY.create(LangHandler.CNEN.create("768 个ME存储核心", "768 ME Storage Cores")))
            .recipeTypes(DUMMY_RECIPES)
            .block(GTBlocks.COMPUTER_CASING)
            .pattern(definition -> FactoryBlockPattern.start(RelativeDirection.BACK, RelativeDirection.UP, RelativeDirection.RIGHT)
                    .aisle("AAA", "DDD", "DDD", "DDD", "AAA")
                    .aisle("AAA", "DBD", "EBD", "DBD", "AAA")
                    .aisle("BBB", "BGB", "BGB", "BGB", "BBB")
                    .aisle("CBC", "cHc", "cHc", "cHc", "CBC").setRepeatable(1, 128)
                    .aisle("BBB", "BBB", "BBB", "BBB", "BBB")
                    .where('A', blocks(GTBlocks.COMPUTER_HEAT_VENT.get()))
                    .where('B', blocks(GTBlocks.COMPUTER_CASING.get()))
                    .where('C', GTOPredicates.absBlocks())
                    .where('D', blocks(GTBlocks.COMPUTER_CASING.get()).or(blocks(GTAEMachines.ME_STORAGE_ACCESS_HATCH.getBlock(), GTAEMachines.ME_BIG_STORAGE_ACCESS_HATCH.getBlock()).setExactLimit(1)))
                    .where('E', controller(blocks(definition.get())))
                    .where('G', blocks(GTBlocks.HIGH_POWER_CASING.get()))
                    .where('H', blocks(GTOBlocks.LITHIUM_OXIDE_CERAMIC_HEAT_RESISTANT_SHOCK_RESISTANT_MECHANICAL_CUBE.get()))
                    .where('c', GTOPredicates.MEStorageCore())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/hpca/computer_casing/back"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition WIRELESS_CHARGER = multiblock("wireless_charger", "无线充能器", WirelessChargerMachine::new)
            .allRotation()
            .addTooltipsFromClass(WirelessChargerMachine.class)
            .recipeTypes(GTORecipeTypes.DUMMY_RECIPES)
            .block(GTBlocks.CASING_STEEL_SOLID)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("aaa", "aaa", "aaa")
                    .aisle("aaa", "aca", "aaa")
                    .aisle("aaa", "aia", "aaa")
                    .where('a', blocks(GTBlocks.CASING_STEEL_SOLID.get()).or(abilities(INPUT_ENERGY)))
                    .where('i', controller(blocks(definition.get())))
                    .where('c', air())
                    .build())
            .workableCasingRenderer(GTCEu.id("block/casings/solid/machine_casing_solid_steel"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();

    public static final MultiblockMachineDefinition INTEGRATED_VAPOR_DEPOSITION_SYSTEM = multiblock("integrated_vapor_deposition_system", "综合气相沉积系统", TierCasingCrossRecipeMultiblockMachine.createParallel(m -> 1L << (m.getCasingTier(GTOValues.GLASS_TIER) << 1), GTOValues.GLASS_TIER))
            .nonYAxisRotation()
            .specialParallelizableTooltips()
            .tooltips(NewDataAttributes.ALLOW_PARALLEL_NUMBER.create(h -> h.addLines("4^玻璃等级", "4^(Glass Tier)")))
            .laserTooltips()
            .multipleRecipesTooltips()
            .combinedRecipeTooltips()
            .recipeTypes(GTORecipeTypes.VAPOR_DEPOSITION)
            .block(GTOBlocks.IRIDIUM_CASING)
            .pattern(definition -> FactoryBlockPattern.start()
                    .aisle("            ZZZZZZZZZ           ", "                Z               ", "                Z               ", "            EEEEZEEEE           ", "                Z               ", "            EEEEZEEEE           ", "                Z               ", "                Z               ", "            EEEEZEEEE           ", "                Z               ", "            EEEEZEEEE           ", "                Z               ", "            EEEEZEEEE           ", "                Z               ", "            EEEEZEEEE           ", "                Z               ", "            ZZZZZZZZZ           ", "                Z               ", "                Z               ", "                                ", "                                ")
                    .aisle("          ZZXXXXXXXXXZZ         ", "            LLLLLLLLL           ", "            LLLLLLLLL           ", "          EELLLLLLLLLEE         ", "            [[[[L[[[[           ", "          EELLLLLLLLLEE         ", "            AAAALAAAA           ", "            AAAALAAAA           ", "          EELLLLLLLLLEE         ", "            [[[[L[[[[           ", "          EELLLLLLLLLEE         ", "            LLLLLLLLL           ", "          EELLLLLLLLLEE         ", "            [[[[L[[[[           ", "          EELLLLLLLLLEE         ", "            LLLLLLLLL           ", "          ZZFFFFFFFFFZZ         ", "                Z               ", "                Z               ", "                                ", "                                ")
                    .aisle("         ZXXXXXXXXXXXXXZ        ", "          LLBBBBWBBBBLL         ", "          LL    Y    LL         ", "         ELL U     U LLE        ", "          [[         [[         ", "         ELL    Y    LLE        ", "          AAMMMMWMMMMAA         ", "          AA    Y    AA         ", "         ELL U     U LLE        ", "          [[         [[         ", "         ELL    Y    LLE        ", "          LLMMMMWMMMMLL         ", "         ELL    Y    LLE        ", "          [[         [[         ", "         ELL U     U LLE        ", "          LL    Y    LL         ", "         ZFFFFFFFFFFFFFZ        ", "                Z               ", "                Z               ", "                                ", "                                ")
                    .aisle("         ZXXXXXXXXXXXXXZ        ", "          LBBBBBWBBBBBL         ", "          L     Y     L         ", "         EL  U     U  LE        ", "          [           [         ", "         EL     Y     LE        ", "          AMMMMMWMMMMMA         ", "          A     Y     A         ", "         EL  U     U  LE        ", "          [           [         ", "         EL     Y     LE        ", "          LMMMMMWMMMMML         ", "         EL     Y     LE        ", "          [           [         ", "         EL  U     U  LE        ", "          L     Y     L         ", "         ZFFFFFFFFFFFFFZ        ", "                Z               ", "                Z               ", "                                ", "                                ")
                    .aisle("   ZZZZZZXXXXXXXXXXXXXXXZ       ", "    Z Z  KBBBIBBWBBIBBBK        ", "    Z Z  K   I  Y  I   K        ", "    Z Z EK   I     I   KE       ", "    Z Z  KUUUIUUUUUIUUUK        ", "    Z Z EK   I  Y  I   KE       ", "    Z Z  KMMMIMMWMMIMMMK        ", "    Z Z  K   I  Y  I   K        ", "    Z Z EK   I     I   KE       ", "         KUUUIUUUUUIUUUK        ", "        EK   I  Y  I   KE       ", "         KMMMIMMWMMIMMMK        ", "        EK   I  Y  I   KE       ", "         KUUUIUUUUUIUUUK        ", "        EK   I     I   KE       ", "         K   I  Y  I   K        ", "        ZKFFFFFFFFFFFFFKZ       ", "         K     CZC     K        ", "               CCC              ", "               CCC              ", "               CCC              ")
                    .aisle("  HHHHHHHXXXXXXXXXXXXXXXZZZZZZ  ", "  HHHHHHHLBBBBBBWBBBBBBLZZZZZZ  ", "  HHHHHHHL      Y      LZZZZZZ  ", "  HHHHHHHL   U     U   LZZZZZZ  ", "  HHHHHHHL             LZZZZZZ  ", "  HHHHHHHL      Y      LE       ", "         AMMMMMMWMMMMMMA        ", "         A      Y      A        ", "    Z Z EL   U     U   LE       ", "         [             [        ", "        EL      Y      LE       ", "         LMMMMMMWMMMMMML        ", "        EL      Y      LE       ", "         [             [        ", "        EL   U     U   LE       ", "         L      Y      L        ", "        ZFFFFFFFFFFFFFFFZ       ", "              CWZWC             ", "              CJJJC             ", "              CSSSC             ", "              C   C             ")
                    .aisle(" HHAAAAACXXXXXXXXXXXXXXXZZZZZZAA", " HHEJJJECLBBBBBBWBBBBBBLZZYYYZA ", " HHEJJJECL      Y      LZZYYYZA ", " HHEJJJECL   U     U   LZZYYYZA ", " HHEJJJECL             LZZZZZZA ", " HHHHHHHHL      Y      LEEEEEEA ", " HHHHHHHHSMMMMMMWMMMMMMAAAAAAAAA", "         A      Y      A      A ", "    Z Z EL   U     U   LE       ", "         [             [        ", "        EL      Y      LE       ", "         LMMMMMMWMMMMMML        ", "        EL      Y      LE       ", "         [             [        ", "        EL   U     U   LE       ", "         L      Y      L        ", "        ZFFFFFFFFFFFFFFFZ       ", "             CWWZWWC            ", "             CJJJJJC            ", "             CSSSSSC            ", "             C     C            ")
                    .aisle("HHHAAAAACXXXXXXXXXXXXXXXCCCCCCCA", "HHHEJJJECLWWWWWWWWWWWWWLCCEEECQ ", "HHHEJJJECLYYYYYYWYYYYYYLCCEUECQ ", "HHHEJJJECL   U  W  U   LCCEEECQ ", "HHHEJJJECL      W      LCCCCCCQ ", "HHHHHHHHCLYYYYYYWYYYYYYLCCCCCCQ ", "HHHHHHHHCLWWWWWWWWWWWWWLCQQQQQQA", "HHHHHHHHZLYYYYYYWYYYYYYLZMMMMMA ", "   ZZZZZZL   U  W  U   LZ       ", "        ZL      W      LZ       ", "        ZLYYYYYYWYYYYYYLZ       ", "        ZLWWWWWWWWWWWWWLZ       ", "        ZLYYYYYYWYYYYYYLZ       ", "        ZL      W      LZ       ", "        ZL   U  W  U   LZ       ", "        ZLYYYYYYWYYYYYYLZ       ", "        ZNNNNNNNNNNNNNNNZ       ", "        ZZZZZZZZZZZZZZZZZ       ", "        ZZZZZCJJZJJCZZZZZ       ", "             CSSSSSC            ", "             C     C            ")
                    .aisle(" OCRRRRRRRRRRRRRRRRRRRRRCFFFFFCA", " OCRRRRRRRRRRRRRRRRRRRRRRN   VDA", " OCRRRRRRRRRRRRRRRRRRRRRRN U  DA", " OCRRRRRRRRRRRRRRRRRRRRRRN    DA", " OCRRRRRRRRRRRRRRRRRRRRRRN W  DA", " OCRRRRRRRRRRRRRRRRRRRRRRN   VDA", " OCTTTTTCAAAAAAAAAAAAAAACAAAAACA", " OLLLLLLLLQQQQQQQQQQQQQLC     AA", " OOOOOOOOLQQQQQQQQQQQQQLE       ", "         LQQQQQQQQQQQQQC        ", "         LQQQQQQQQQQQQQS        ", "         LQQQQQQQQQQQQQC        ", "         LQQQQQQQQQQQQQS        ", "         LQQQQQQQQQQQQQC        ", "         LQQQQQQQQQQQQQS        ", "        ELQQQQQQQQQQQQQC        ", "        ZNNNNNNNNNNNNNNNZ       ", "         FFFFFFFFFFFFFFF        ", "             CJJZJJC            ", "             CSSSSSC            ", "             C     C            ")
                    .aisle("ALCRRRRRRRRRRRRRRRRRRRRRCFFFFFCA", "ADSRTTTTTTTTTTTTTTTTTN  R    VD ", "ADSRG   G   G   G   G UUUUUU  D ", "ADSRG   G   G   G   G U RV    D ", "ADSRUUUUUUUUUUUUUUUUUUU RV W  D ", "ADSRRRRRRRRRRRRRRRRRRRRRRN   VD ", "ADSTTTTTCAAAAAAAAAAAAAAACAAAAACA", "ADSSSSSSSLN            LC     X ", "AEDDDDDDDLN            LXXXXXXX ", "AAAAAAAAALN            C        ", "         LN            S        ", "         LN            C        ", "         LN            S        ", "         LN            C        ", "         LN            S        ", "        ELN            C        ", "        ZNNNNNNNNNNNNNNNZ       ", "         FFFFFFFFFFFFFFF        ", "              CJZJC             ", "              CSSSC             ", "              C   C             ")
                    .aisle(" OCRRRRRRRRRRRRRRRRRRRRRCFFFFFCA", " DNRTTTTTTTTTTTTTTTTTN  RN   VD ", " DNR                    RN U  D ", " DNR  Y   Y   Y   Y     RN    D ", " DNRBBBBBBBBBBBBBBBBBBBBRN W  D ", " DNRRRRRRRRRRRRRRRRRRRRRRN   VD ", " DNTTTTTCAAAAAAAAAAAAAAACAAAAACA", " DNNNNNNNNNN           LC     X ", " EDDDDDDDDDN           LE       ", "          DN           C        ", "          DN           S        ", "          DN           C        ", "          DN           S        ", "          DN           C        ", "          DN           S        ", "         EDN           C        ", "        ZNNNNNNNNNNNNNNNZ       ", "         FFFFFFFFFFFFFFF        ", "               CZC              ", "               CCC              ", "               CCC              ")
                    .aisle(" OCRRRRRRRRRRRRRRRRRRRRRCFFFFFCA", " DSRTTTTTTTTTTTTTTTTTN  R    VD ", " DSRG   G   G   G   G UUUUUU  D ", " DSRG   G   G   G   G U RV    D ", " DSRUUUUUUUUUUUUUUUUUUU RV W  D ", " DSRRRRRRRRRRRRRRRRRRRRRRN   VD ", " DSTTTTTTCAAAAAAAAAAAAACCAAAAACA", " DSSSSSSSSLN          LSC     X ", " EDDDDDDDDLN          LXXXXXXXX ", "          LN          C         ", "          LN          S         ", "          LN          C         ", "          LN          S         ", "          LN          C         ", "          LN          S         ", "         ELN          C         ", "         ZNNNNNNNNNNNNNZ        ", "          FFFFFFFFFFFFF         ", "                Z               ", "                                ", "                                ")
                    .aisle(" OCRRRRRRRRRRRRRRRRRRRRRCFFFFFCA", " DNRTTTTTTTTTTTTTTTTTN  RN   VD ", " DNR                    RN U  D ", " DNR                    RN    D ", " DNRBBBBBBBBBBBBBBBBBBBBRN W  D ", " DNRRRRRRRRRRRRRRRRRRRRRRN   VD ", " DNTTTTTTCAAAAAAAAAAAAACCAAAAACA", " DNNNNNNNNNNNN       LLSC     X ", " EDDDDDDDDDDNN       LLE        ", "           DNN       CC         ", "           DNN       SS         ", "           DNN       CC         ", "           DNN       SS         ", "           DNN       CC         ", "           DNN       SS         ", "         EEDNN       CC         ", "         ZNNNNNNNNNNNNNZ        ", "          FFFFFFFFFFFFF         ", "                Z               ", "                                ", "                                ")
                    .aisle("ALCRRRRRRRRRRRRRRRRRRRRRCFFFFFCA", "ADSRTTTTTTTTTTTTTTTTTN  R    VD ", "ADSRG   G   G   G   G UUUUUU  D ", "ADSRG   G   G   G   G U RV    D ", "ADSRUUUUUUUUUUUUUUUUUUU RV W  D ", "ADSRRRRRRRRRRRRRRRRRRRRRRN   VD ", "ADSTTTTTTTCCAAAAAAAAACCTCAAAAACA", "ADSSSSSSSSSNLNLLLLLLLSSSC     X ", "AEDDDDDDDDDDLDLLLLLLLEE         ", "AAAAAAAAAAAALDLLLCCCC           ", "            LDLLLCSSS           ", "            LDLLLCCCC           ", "            LDLLLCSSS           ", "            LDLLLCCCC           ", "            LDLLLCSSS           ", "          EELDLLLCCCC           ", "          ZZNNNNNNNNNZZ         ", "            FFFFFFFFF           ", "                Z               ", "                                ", "                                ")
                    .aisle(" OCRRRRRRRRRRRRRRRRRRRRRCFFFFFCA", " DNRTTTTTTTTTTTTTTTTTN  RN   VD ", " DNR                    RN U  D ", " DNR  Y   Y   Y   Y     RN    D ", " DNRBBBBBBBBBBBBBBBBBBBBRN W  D ", " DNRRRRRRRRRRRRRRRRRRRRRRN   VD ", " DNTTTTTTTTTCCCCCCCCCTTTCAAAAACA", " DNNNNNNNNNNSNSLCSSSSSSSC E E X ", " EDDDDDDDDDDDDDKKEEEE     E E   ", "              AKKE        E E   ", "               KKE              ", "               KKK              ", "               KKK              ", "               EKK              ", "               EKK              ", "            EEEEKK              ", "            ZZZZZZZZZ           ", "                Z               ", "                Z               ", "                                ", "                                ")
                    .aisle(" OCRRRRRRRRRRRRRRRRRRRRRCFFFFFCA", " DSRTTTTTTTTTTTTTTTTTN  R    ND ", " DSRG   G   G   G   G UUUUUU ND ", " DSRG   G   G   G   G U RV   ND ", " DSRUUUUUUUUUUUUUUUUUUU RV W ND ", " DSRRRRRRRRRRRRRRRRRRRRRRNNNNND ", " DSTTTTTTTTTTTTTTTTTTTTTCAAAAACA", " DSSSSSSSSSSSNSLSSSSSSSSCHHHHHX ", " EDDDDDDDDDDDDDO          HHH   ", "              A           E E   ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ")
                    .aisle(" OCRRRRRRRRRRRRRRRRRRRRRCFFFFFCA", " DNRTTTTTTTTTTTTTTTTTN  RN G  DL", " DNR                    RN G  DL", " DNR                    RN G  DL", " DNRBBBBBBBBBBBBBBBBBBBBRN G  DL", " DNRRRRRRRRRRRRRRRRRRRRRRNEGEEDL", " DNTTTTTTTTTTTTTTTTTTTTTCAIIIACL", " DNNNNNNNNNNNNSLSSSSSSSSCHJJJHLL", " EDDDDDDDDDDDDDO         HHJHH  ", "              A           EHE   ", "                           H    ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ")
                    .aisle("ALCRRRRRRRRRRRRRRRRRRRRRCFFFFFCA", "ADSRNNNNNNNNNNNNNNNNNN  R  G  D ", "ADSR                    R     D ", "ADSR                    R     D ", "ADSR                    R     D ", "ADSRRRRRRRRRRRRRRRRRRRRRREEGEED ", "ADSTTTTTTTTTTTTTTTTTTTTTCAIIIAC ", "ADSSSSSSSSSSSSSLSSSSSSSSCHJJJH  ", "AEDDDDDDDDDDDDDO         HJJJH  ", "AAAAAAAAAAAAAAA           HJH   ", "                           H    ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ")
                    .aisle(" OCRRRRRRRRRRRRRRRRRRRRRCFFFFFCA", " OLRRRRRRREEEEEEEEEEEEEER  G  DL", " OLRRRRRRR              R     DL", " OLRRRRRRR              R     DL", " OLRRRRRRREEEEEEEEEEEEEER     DL", " OLRRRRRRRRRRRRRRRRRRRRRREEGEEDL", " OLLLLLLLLLLLLLLLLLLLLLLCAIIIACL", " OLOOOOOLLLOOOOOOOOOOOOOOHJJJHLL", " OOOOOOOOOOOOOOO         HJJJH  ", "                          HJH   ", "                           H    ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ")
                    .aisle(" CCLLLLLCNCCCCCCCCCCCCCCCFFFFFCA", " CLOOOOOLNDDDDDDDDDDDDDDCGGGGGD ", " CLOOOOOLNDDDDDDDDDDDDDDCG   GD ", " CLOOPOOLNDDDDDDDDDDDDDDCG   GD ", " CLOOOOOLNDDDDDDDDDDDDDDCG   GD ", " CLLLLLLLNCCCCCCCCCCCCCCCGGGGGD ", " CQQQQQQQNQQQQQQQQQQQQQACAIIIAC ", "  K     KDK     K     K  HJJJH  ", "                         HJJJH  ", "                          HJH   ", "                           H    ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ")
                    .aisle("  KKKKKKKDKKKKKKKKKKKKKACFFFFFCA", "  K     KDK     K     KBD  G  DL", "  K     KDK     K     KBD     DL", "  K     KDK     K     KBD     DL", "  K     KDK     K     KBD     DL", "  KMMMMMKDKMMMMMKMMMMMKBDEEGEEDL", "  K     KDK     K     KACAIIIACL", "  K     KDK     K     K  HJJJHLL", "                         HJJJH  ", "                          HJH   ", "                           H    ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ")
                    .aisle("                       ACFFFFFCA", "                        D  G  D ", "                        D     D ", "                        D     D ", "                        D     D ", "                        DEEGEED ", "                       ACAIIIACA", "                         HJJJH  ", "                         HHJHH  ", "                          EHE   ", "                           H    ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ")
                    .aisle("                       ACFFFFFCA", "                        D  G  D ", "                        D  G  D ", "                        D  G  D ", "                        D  G  D ", "                        DEEGEED ", "                       ACAAAAACA", "                         HHHHH  ", "                          HHH   ", "                          E E   ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ")
                    .aisle("                       ACCCCCCCA", "                        DDDDDDD ", "                        DDDDDDD ", "                        DDDDDDD ", "                        DDDDDDD ", "                        DDDDDDD ", "                       ACCCCCCCA", "                          E E   ", "                          E E   ", "                          E E   ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ")
                    .aisle("                       AAAAAAAAA", "                          B B   ", "                          B B   ", "                          B B   ", "                          B B   ", "                          B B   ", "                       AAAAAAAAA", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ", "                                ")
                    .where('A', blocks(GTOBlocks.ANTIFREEZE_HEATPROOF_MACHINE_CASING.get()))
                    .where('B', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTOMaterials.BabbittAlloy)))
                    .where('C', blocks(GTOBlocks.SPS_CASING.get()))
                    .where('D', GTOPredicates.glass())
                    .where('E', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.NaquadahAlloy)))
                    .where('F', blocks(GTOBlocks.STABILIZED_NAQUADAH_WATER_PLANT_CASING.get()))
                    .where('G', blocks(GTBlocks.CASING_POLYTETRAFLUOROETHYLENE_PIPE.get()))
                    .where('H', blocks(GTOBlocks.LAFIUM_MECHANICAL_CASING.get()))
                    .where('I', blocks(GTOBlocks.HOLLOW_CASING.get()))
                    .where('J', blocks(GTOBlocks.HERMETIC_CASING_UEV.get()))
                    .where('K', blocks(GCYMBlocks.CASING_ATOMIC.get()))
                    .where('L', blocks(GTOBlocks.IRIDIUM_CASING.get()))
                    .where('M', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTOMaterials.Laurenium)))
                    .where('N', blocks(GTOBlocks.AMPROSIUM_ACTIVE_CASING.get()))
                    .where('O', blocks(GTOBlocks.IRIDIUM_CASING.get())
                            .or(GTOPredicates.autoThreadLaserAbilities(definition.getRecipeTypes()))
                            .or(abilities(MAINTENANCE).setExactLimit(1)))
                    .where('P', controller(blocks(definition.get())))
                    .where('Q', blocks(GTBlocks.CASING_PALLADIUM_SUBSTATION.get()))
                    .where('R', blocks(GTOBlocks.PRESSURE_CONTAINMENT_CASING.get()))
                    .where('S', blocks(GTOBlocks.STRONTIUM_CARBONATE_CERAMIC_RAY_ABSORBING_MECHANICAL_CUBE.get()))
                    .where('T', blocks(GTOBlocks.NEUTRONIUM_STABLE_CASING.get()))
                    .where('U', blocks(GTOBlocks.AMPROSIUM_PIPE_CASING.get()))
                    .where('V', blocks(ChemicalHelper.getBlock(TagPrefix.frameGt, GTMaterials.Polytetrafluoroethylene)))
                    .where('W', blocks(GTOBlocks.ADVANCED_ASSEMBLY_LINE_UNIT.get()))
                    .where('X', blocks(GCYMBlocks.CASING_CORROSION_PROOF.get()))
                    .where('Y', blocks(GTOBlocks.CONTAINMENT_FIELD_GENERATOR.get()))
                    .where('Z', blocks(GTOBlocks.NAQUADAH_REINFORCED_PLANT_CASING.get()))
                    .where('[', blocks(GTOBlocks.QUANTUM_GLASS.get()))
                    .where(' ', any())
                    .build())
            .workableCasingRenderer(GTOCore.id("block/casings/iridium_casing"), GTCEu.id("block/multiblock/fusion_reactor"))
            .register();
}
